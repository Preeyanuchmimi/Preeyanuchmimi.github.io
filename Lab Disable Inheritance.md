# 🔐 Lab : Disable Inheritance & NTFS Permission

![cf](1.png)

---

## 📌 โจทย์ (Scenario)

ข้อมูลบุคลากรที่เป็น **ความลับ** ถูกจัดเก็บไว้บนไฟล์เซิร์ฟเวอร์ **CorpFiles**  
ภายในโฟลเดอร์ที่ใช้ร่วมกันชื่อว่า **Personnel**

🎯 **เป้าหมายของ LAB นี้**
- กำหนดสิทธิ์แบบ **NTFS**
- ให้ **เฉพาะกลุ่ม Managers เท่านั้น** ที่สามารถเข้าถึงข้อมูลได้
- ป้องกันไม่ให้รับสิทธิ์มาจากโฟลเดอร์แม่ (Drive D:)

---

## 🛠️ ขั้นตอนที่ 1 : กำหนดสิทธิ์ Full Control ให้กลุ่ม Managers

### 1️⃣ เปิด File Explorer
![cf](3.png)

---

### 2️⃣ ไปที่ไดรฟ์ `D:`  
คลิกขวาที่โฟลเดอร์ **Personnel** ➜ เลือก **Properties**
![cf](4.png)

---

### 3️⃣ ไปที่แท็บ **Security**  
คลิกปุ่ม **Edit**
![cf](5.png)

---

### 4️⃣ คลิกปุ่ม **Add**
![cf](7.png)

---

### 5️⃣ เพิ่มกลุ่ม Managers
- พิมพ์ชื่อกลุ่ม: `Managers`
- คลิก **Check Names**
- คลิก **OK**
![cf](8.png)

---

### 6️⃣ กำหนดสิทธิ์
- เลือกกลุ่ม **Managers**
- ติ๊ก ☑️ **Allow – Full control**
![cf](11.png)

---

### 7️⃣ บันทึกการตั้งค่า
คลิก **Apply ➜ OK ➜ OK**
![cf](12.png)

---

## 🔥 ขั้นตอนที่ 2 : Remove Inherited Permissions

> ⚠️ ขั้นตอนนี้สำคัญมาก  
> ถ้าไม่ทำ → โฟลเดอร์ยังคงรับสิทธิ์จาก Drive D:

---

### 1️⃣ เปิด Properties ของโฟลเดอร์ Personnel
`D:\Personnel` ➜ คลิกขวา ➜ **Properties**
![cf](13.png)

---

### 2️⃣ ไปที่แท็บ **Security**  
คลิกปุ่ม **Advanced**
![cf](15.png)

---

### 3️⃣ ตรวจสอบสถานะ Inheritance
ด้านบนจะเห็นปุ่ม:
📌 แปลว่า: **ขณะนี้โฟลเดอร์ยังรับสิทธิ์จากโฟลเดอร์แม่อยู่**

👉 คลิก **Disable inheritance**
![cf](16.png)

---

### 4️⃣ เลือกตัวเลือก
ในหน้าต่างที่ปรากฏ ให้เลือก:

🗑️ **Remove all inherited permissions from this object**
![cf](18.png)

---

### 5️⃣ บันทึกการเปลี่ยนแปลง
คลิก **Apply ➜ OK ➜ OK**
![cf](19.png)

---

## 🔍 วิธีตรวจสอบว่าไม่รับสิทธิ์จากโฟลเดอร์แม่แล้ว

### เส้นทางตรวจสอบ

✅ ต้องเห็นปุ่มเป็น:
📌 หมายความว่า:  
**โฟลเดอร์นี้ไม่ได้รับสิทธิ์จาก Drive D: แล้ว**
![cf](20.png)

---

## ✅ ผลลัพธ์หลังจบ LAB

- 🔐 โฟลเดอร์ Personnel มีสิทธิ์แบบกำหนดเอง (Explicit Permissions)
- 👨‍💼 เฉพาะกลุ่ม **Managers** เท่านั้นที่เข้าถึงได้
- 🚫 ไม่มีการสืบทอดสิทธิ์จากโฟลเดอร์แม่

![cf](21.png)

---

## 🧠 สรุปสั้น ๆ

| รายการ | สถานะ |
|------|------|
| Full Control (Managers) | ✅ |
| Inherited Permissions | ❌ |
| ความปลอดภัยของข้อมูล | 🔒 สูง |

🎉 **LAB สำเร็จเรียบร้อย**



